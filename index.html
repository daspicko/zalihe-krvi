<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/icon" href="assets/blood-drop.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zalihe krvi u Republici Hrvatskoj</title>

  <meta name="description" content="Pratite zalihe krvi u Hrvatskoj i budite obaviješteni kada su zalihe Vaše krvne grupe premale." />
  <meta name="keywords" content="krv, zalihe krvi, krvne grupe, darivanje krvi, Hrvatska, RH, obavijesti, notifikacije" />
  <meta name="author" content="Davorin Špičko" />

  <meta property="og:title" content="Zalihe krvi u Republici Hrvatskoj" />
  <meta property="og:description" content="Pratite zalihe krvi u Hrvatskoj i budite obaviješteni kada su zalihe Vaše krvne grupe premale." />
  <meta property="og:image" content="https://zalihe-krvi.hr/assets/images/blood-drop.webp" />
  <meta property="og:url" content="https://zalihe-krvi.hr" />
  <meta property="og:type" content="website" />

  <link rel="preconnect" href="https://www.googletagmanager.com" />
  <link rel="preconnect" href="https://www.gstatic.com" />
  <link rel="preload" href="assets/images/BloodBag.webp" as="image" type="image/webp" />
  <link rel="preload" href="assets/images/BloodBagFiller.webp" as="image" type="image/webp" />

  <link rel="stylesheet" href="css/bootstrap.min.css" />
  <link rel="stylesheet" href="css/main.css" />
</head>

<body>
  <div>
    <h1 class="text-center">Zalihe krvi u RH</h1>

    <div>
      <!-- Button trigger modal -->
      <button class="btn btn-danger notificationButton" type="button" data-bs-toggle="modal" data-bs-target="#subscribeModal">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bell" viewBox="0 0 16 16">
          <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2M8 1.918l-.797.161A4 4 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4 4 0 0 0-3.203-3.92zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5 5 0 0 1 13 6c0 .88.32 4.2 1.22 6"/>
        </svg>
      </button>

      <!-- Subscribe Modal -->
      <div class="modal fade" id="subscribeModal" tabindex="-1" aria-labelledby="subscribeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="subscribeModalLabel">Obavijesti me</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <div class="d-flex justify-content-center">
                <div id="subscribeLoading" class="spinner-border" role="status" style="display: none;">
                  <span class="visually-hidden">Loading...</span>
                </div>
              </div>
              <p>Budite obaviješteni kad količine krvi Vaše grupe imaju premale zalihe.</p>

              <form>
                <div class="input-group mb-3">
                  <select class="form-select" id="subscribeGroup" name="subscribeGroup"></select>
                </div>
                <div class="input-group mb-3">
                  <select class="form-select" id="subscribeLocation" name="subscribeLocation"></select>
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Zatvori</button>
              <button id="subscribeButton" type="button" class="btn btn-primary">Prijavi me za obavijesti</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Alert Modal -->
      <div id="alertModal" class="modal fade" data-bs-backdrop="static">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header d-flex justify-content-space-between">
              <img width="32" height="32" src="assets/images/blood-drop.webp" alt="Alert image" />
              <h1 class="modal-title fs-5 mx-3" id="alertModalTitle">Obavijesti me</h1>
            </div>
            <div class="modal-body">
              
              <p id="alertModalText"></p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">U redu</button>
            </div>
          </div>
        </div>
      </div>

      <div class="alert-container">

      </div>
    </div>

    <div class="location-selector">
      <p><b>Ažurirano:</b> <span id="update-time"></span></p>
      <form>
        <div class="mb-3">
          <select class="form-select" name="location" id="location-select"></select>
        </div>
      </form>
    </div>

    <div class="location">
      <div class="location-header">
        <h3> </h3>
        <p> </p>
        <a href="" target="blank">Otvori stranicu</a>
      </div>

      <div class="legend">
        <div><span class='high-indicator'></span></div>
        <div>Prevelike zalihe</div>
        <div><span class='low-indicator'></span></div>
        <div>Premale zalihe</div>
      </div>

      <div class="blood-groups">
        <!-- Dynamically populated -->
      </div>
    </div>
  </div>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LPC3953B9"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-1LPC3953B9');
  </script>

  <script type="module" src="js/main.js"></script>
  <script src="js/libs/bootstrap.bundle.min.js"></script>
</body>

</html>
